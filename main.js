(()=>{"use strict";const e=[{question:"Вопрос",answers:["Вариант А","Вариант Б","Вариант В","Вариант Г","Вариант Д","Вариант Е"],correctAnswer:0},{question:"Вопрос",answers:["Вариант А","Вариант Б","Вариант В","Вариант Г","Вариант Д","Вариант Е"],correctAnswer:0},{question:"Вопрос",answers:["Вариант А","Вариант Б","Вариант В","Вариант Г","Вариант Д","Вариант Е"],correctAnswer:0},{question:"Вопрос",answers:["Вариант А","Вариант Б","Вариант В","Вариант Г","Вариант Д","Вариант Е"],correctAnswer:0},{question:"Вопрос",answers:["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sollicitudin odio sit amet.","Lorem ipsum dolor sit amet, aliquam sollicitudin odio sit amet."],correctAnswer:0}],t=[{name:"Test's name",description:"1Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer ullamcorper volutpat tristique. Fusce et nunc porttitor, pretium urna at, sagittis purus. Nullam sagittis congue sapien non sodales. Aliquam vel condimentum lacus, sit amet feugiat velit. Suspendisse congue imperdiet dui, sit amet cursus mi viverra sed. Nam porttitor venenatis vehicula. Vestibulum sed arcu vel lorem venenatis tempor."},{name:"Another Test",description:"2Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer ullamcorper volutpat tristique. Fusce et nunc porttitor, pretium urna at, sagittis purus. Nullam sagittis congue sapien non sodales. Aliquam vel condimentum lacus, sit amet feugiat velit. Suspendisse congue imperdiet dui, sit amet cursus mi viverra sed. Nam porttitor venenatis vehicula. Vestibulum sed arcu vel lorem venenatis tempor."},{name:"Test",description:"3Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer ullamcorper volutpat tristique. Fusce et nunc porttitor, pretium urna at, sagittis purus. Nullam sagittis congue sapien non sodales. Aliquam vel condimentum lacus, sit amet feugiat velit. Suspendisse congue imperdiet dui, sit amet cursus mi viverra sed. Nam porttitor venenatis vehicula. Vestibulum sed arcu vel lorem venenatis tempor."},{name:"Название теста",description:"4Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer ullamcorper volutpat tristique. Fusce et nunc porttitor, pretium urna at, sagittis purus. Nullam sagittis congue sapien non sodales. Aliquam vel condimentum lacus, sit amet feugiat velit. Suspendisse congue imperdiet dui, sit amet cursus mi viverra sed. Nam porttitor venenatis vehicula. Vestibulum sed arcu vel lorem venenatis tempor."}],n=document.querySelector(".test-container"),s=document.querySelector(".sidebar"),r=s.querySelector(".sidebar__close-btn"),i=s.querySelectorAll(".sidebar__test "),a=localStorage.getItem("sidebar"),o=localStorage.getItem("sidebar-active-link");function c(){const s=window.location.hash.slice(1);switch(n.innerHTML="",s){case"/":default:n.innerHTML='<p class="test-container__empty">Выберите тест из списка</p>';break;case"/test/1":case"/test/2":case"/test/3":case"/test/4":const r=parseInt(s.match(/\d+/)[0])-1;n.innerHTML=`\n    <p class="test__title">Описание</p>\n    <p class="test__description">${t[r].description}</p>\n    <button class="test__start-btn">Начать</button>\n    <button class="test__break-btn">Отмена</button>\n  `,function(e,t){document.querySelector(".test__start-btn").addEventListener("click",(()=>p(e,t)))}(e,t[r].name),document.querySelector(".test__break-btn").addEventListener("click",(e=>{e.preventDefault(),window.location.href="/intas",localStorage.removeItem("sidebar-active-link")})),clearInterval()}}function l(){const t=document.querySelectorAll('input[type="radio"]:checked').length,n=e.length,s=document.querySelector(".test__point");s&&(s.textContent=`${t}/${n}`)}function u(e,t){let n=0;return t.forEach(((t,s)=>{t.correctAnswer==e[s].answer&&(n+=1)})),n}function d(){const t=[];return document.querySelectorAll(".test__answer-element").forEach(((n,s)=>{const r=document.querySelectorAll(".test__answer"),i=n.querySelector('input[type="radio"]:checked'),a=e[s].correctAnswer;i?t.push({question:r[s].textContent,answer:i.value,answerText:e[s].answers[i.value],correctAnswerIndex:a,correctAnswerText:e[s].answers[a]}):t.push({question:r[s].textContent,answer:null,answerText:"Ответ не выбран",correctAnswerIndex:a,correctAnswerText:e[s].answers[a]})})),t}function p(e,t){const s=new Date,r=setInterval((()=>function(e){const t=new Date,n=function(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),s=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}(Math.round((t-e)/1e3)),s=document.querySelector(".test__time");s&&(s.textContent=`${n}`)}(s)),1e3);n.innerHTML=`\n  <div class="test__header">\n    <button class="test__btn test__btn_type_exit">Выход</button>\n    <p class="test__name">${t}</p>\n    <div class="test__result-container">\n      <button class="test__btn test__btn_type_reset">Сбросить все ответы</button>\n      <p class="test__point">0/${e.length}</p>\n      <p class="test__time">00:00:00</p>\n    </div>\n  </div>\n  <form>\n    ${e.map(((e,t)=>`\n    <p class="test__answer">${t+1}. ${e.question}</p>\n    <div class="test__answer-element">\n      ${e.answers&&e.answers.map(((e,n)=>`\n          <label>\n            <input type="radio" name="question${t}" value="${n}">\n            ${e}\n          </label>\n        `)).join("")}\n    </div>\n    `)).join("")}\n  </form>\n  <div class="test__complete-container">\n    <button class="test__complete-btn">Завершить</button>\n  </div>\n  `;const i=document.querySelector(".test__btn_type_reset"),a=document.querySelector(".test__btn_type_exit"),o=document.querySelector(".popup"),c=document.querySelector(".test__complete-btn");o.querySelector(".popup__btn_type_exit").addEventListener("click",(()=>{window.location.href="/intas",localStorage.removeItem("sidebar-active-link")})),o.querySelector(".popup__btn_type_cancel").addEventListener("click",(()=>o.classList.remove("popup_type_opened"))),a.addEventListener("click",(()=>{o.classList.add("popup_type_opened")})),i.addEventListener("click",(()=>{document.querySelectorAll('input[type="radio"]').forEach((e=>{e.checked=!1}))}));const p=setTimeout((()=>{clearInterval(r);const n=d();m(n,e),localStorage.setItem(`${t}`,`${u(n,e)} из ${e.length}`)}),1e4);c.addEventListener("click",(()=>{clearInterval(r);const n=d();m(n,e),clearTimeout(p),localStorage.setItem(`${t}`,`${u(n,e)} из ${e.length}`)})),document.querySelectorAll('input[type="radio"]').forEach((e=>{e.addEventListener("change",l)})),window.addEventListener("popstate",(()=>clearTimeout(p))),window.addEventListener("popstate",(()=>clearInterval(r)))}function m(e,t){const s=n.querySelector("form"),r=document.querySelector(".test__complete-container");s&&(s.remove(),r.remove()),n.innerHTML+=`\n    <div class='result'>\n      <p class='result__title'>Тест завершен</p>\n      <p class='result__output'>Вы ответили на ${u(e,t)} из ${t.length} вопросов.</p>\n      <p class="result__answer-title">Ваши ответы</p>\n      <div class="result__answer-container">\n        ${e.map(((e,t)=>`\n          <div class="result__item">\n            <p class="result__question">${e.question}</p>\n            <p class="result__answer">Правильный ответ: ${e.correctAnswerText}</p>\n            <p class="result__answer"> Вы ответили: ${e.answerText}</p>\n          </div>\n        `)).join("")}\n      </div>\n    </div>\n    <div class="test__complete-container">\n      <button class="test__refresh-btn">Пройти еще раз</button>\n    </div>\n  `;const i=document.querySelector(".test__name").textContent,a=n.querySelector(".test__refresh-btn"),o=n.querySelector(".test__btn_type_exit");document.querySelector(".test__btn_type_reset").style.cursor="default",a.addEventListener("click",(()=>p(t,i))),o.addEventListener("click",(()=>{window.location.href="/intas",localStorage.removeItem("sidebar-active-link")}))}null!==o&&i[o].classList.add("sidebar__test_type_active"),null!==a&&"true"===a?s.classList.add("open"):s.classList.remove("open"),i.forEach(((e,t)=>{e.querySelector(".sidebar__link").addEventListener("click",(()=>{i.forEach((e=>{e.classList.remove("sidebar__test_type_active")})),e.classList.toggle("sidebar__test_type_active"),localStorage.setItem("sidebar-active-link",t)}))})),r.addEventListener("click",(()=>{s.classList.toggle("open"),localStorage.setItem("sidebar",!!s.classList.contains("open"))})),window.addEventListener("hashchange",c),window.addEventListener("load",c)})();